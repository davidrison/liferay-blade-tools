buildscript {
	dependencies {
		classpath group: "com.liferay", name: "com.liferay.gradle.plugins.source.formatter", version: "1.0.8"
	}

	repositories {
		maven {
			url "http://cdn.repository.liferay.com/nexus/content/groups/public"
		}
	}
}

repositories {
	maven {
		url "http://cdn.repository.liferay.com/nexus/content/groups/public"
	}
}

apply plugin: "com.liferay.source.formatter"

clean.doFirst {
	delete "${projectDir}/deps.zip"
	delete "${projectDir}/templates.zip"
}

formatSource {
	baseDirName = "src"
}

task createTemplatesZip(type:Zip) {
	from "${projectDir}/templates"
	baseName = "templates"
	destinationDir = new File("${projectDir}")
}

task createDepsZip(type:Zip) {
	from "${projectDir}/../com.liferay.blade.gradle/generated/"
	baseName = "deps"
	destinationDir = new File("${projectDir}")
	include "*.jar"
}

jar {
	from createDepsZip
	from createTemplatesZip
}
